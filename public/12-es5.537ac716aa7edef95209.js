(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"22Oo":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),t=u("s7LF"),i=function(){function l(l,n,u){this.chatService=l,this.apiService=n,this.router=u,this.otpSent=!1,this.loader=!1,this.isResend=!1,this.resendTime=null,this.verifyForm=new t.g({otp:new t.e("",[t.p.required,t.p.minLength(4)])}),this.verifyValidations={otp:[{type:"required",message:"OTP is required"},{type:"minlength",message:"OTP must be atleast 4 digits"}]}}return l.prototype.ngOnInit=function(){this.sendOtp()},l.prototype.setTimer=function(){var l=this;this.resendTime=(new Date).setMinutes(2,0,0);var n=setInterval((function(){var u=new Date(l.resendTime);0===u.getMinutes()&&1===u.getSeconds()?(l.isResend=!0,l.resendTime=null,clearInterval(n)):l.resendTime=u.setSeconds(u.getSeconds()-1)}),1e3)},l.prototype.sendOtp=function(){var l=this;this.isResend=!1,this.apiService.sendOtp().subscribe((function(n){l.successMsg=n.message,l.otpSent=!0,n.attempt<3&&l.setTimer()}),(function(n){l.otpSent=!0,400===n.status?l.resendTime=null:l.isResend=!0,l.errorMessage=l.chatService.showResponseError(n)}))},l.prototype.getErrors=function(l){return this.chatService.getErrors(l,this.verifyForm,this.verifyValidations)},l.prototype.getInvalidCondition=function(l){return this.verifyForm.get(l).invalid&&this.verifyForm.get(l).dirty},l.prototype.verifyOtp=function(){var l=this;if(this.verifyForm.valid){var n={email:this.chatService.getUserInfo().email,otp:this.verifyForm.value.otp};this.apiService.confirmOtp(n).subscribe((function(n){l.successMsg="otp confirmed",l.otpSent=!1;var u=l.chatService.getUserInfo();u.isVerified=!0,l.chatService.setUserInfo(u),l.router.navigateByUrl("/user")}),(function(n){l.otpSent=!0,l.errorMessage=l.chatService.showResponseError(n)}))}else this.chatService.markFieldsAsDirty(this.verifyForm)},l}(),s=function(){},o=u("pMnS"),r=u("SVse"),a=u("ZSeD"),b=u("yTNM"),c=u("iInd"),d=e.nb({encapsulation:0,styles:[[""]],data:{}});function p(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"div",[["class","text-success d-block"]],null,null,null,null,null)),(l()(),e.Ib(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.successMsg)}))}function f(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Ib(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.getErrors("otp"))}))}function g(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","spinner-border text-primary"],["role","status"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),e.Ib(-1,null,["Loading..."]))],null,null)}function v(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.Ib(1,null,[" in "," "])),e.Eb(2,2)],null,(function(l,n){var u=n.component,t=e.Jb(n,1,0,l(n,2,0,e.Ab(n.parent,0),u.resendTime,"mm:ss"));l(n,1,0,t)}))}function m(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"div",[["class","invalid-feedback mt-3 d-block"]],null,null,null,null,null)),(l()(),e.Ib(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.errorMessage)}))}function y(l){return e.Kb(0,[e.Cb(0,r.d,[e.s]),(l()(),e.pb(1,0,null,null,38,"div",[["class","container-fluid view-area"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,37,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,36,"div",[["class","m-auto"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,35,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,1,"div",[["class","card-header bg-primary text-light"]],null,null,null,null,null)),(l()(),e.Ib(-1,null,[" Verify Your Account "])),(l()(),e.pb(7,0,null,null,32,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,p)),e.ob(9,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(10,0,null,null,29,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0,i=l.component;return"submit"===n&&(t=!1!==e.Ab(l,12).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Ab(l,12).onReset()&&t),"ngSubmit"===n&&(t=!1!==i.verifyOtp()&&t),t}),null,null)),e.ob(11,16384,null,0,t.t,[],null,null),e.ob(12,540672,null,0,t.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Fb(2048,null,t.b,null,[t.h]),e.ob(14,16384,null,0,t.m,[[4,t.b]],null,null),(l()(),e.pb(15,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Ib(-1,null,["Enter OTP"])),(l()(),e.pb(18,0,null,null,8,"input",[["autocomplete","otp"],["class","form-control"],["formControlName","otp"],["placeholder","e.g. 123456"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Ab(l,22)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Ab(l,22).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Ab(l,22)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Ab(l,22)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Fb(512,null,r.v,r.w,[e.q,e.r,e.k,e.B]),e.ob(20,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Db(21,{"is-invalid":0}),e.ob(22,16384,null,0,t.c,[e.B,e.k,[2,t.a]],null,null),e.Fb(1024,null,t.j,(function(l){return[l]}),[t.c]),e.ob(24,671744,null,0,t.f,[[3,t.b],[8,null],[8,null],[6,t.j],[2,t.s]],{name:[0,"name"]},null),e.Fb(2048,null,t.k,null,[t.f]),e.ob(26,16384,null,0,t.l,[[4,t.k]],null,null),(l()(),e.eb(16777216,null,null,1,null,f)),e.ob(28,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(29,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,g)),e.ob(31,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(32,0,null,null,1,"button",[["class","btn btn-primary d-inline-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.Ib(-1,null,["Verify"])),(l()(),e.pb(34,0,[["resendButton",1]],null,3,"button",[["class","btn btn-outline-success float-right"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.sendOtp()&&e),e}),null,null)),(l()(),e.Ib(-1,null,["Resend "])),(l()(),e.eb(16777216,null,null,1,null,v)),e.ob(37,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,m)),e.ob(39,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,9,0,u.successMsg),l(n,12,0,u.verifyForm);var e=l(n,21,0,u.getInvalidCondition("otp"));l(n,20,0,"form-control",e),l(n,24,0,"otp"),l(n,28,0,u.getInvalidCondition("otp")),l(n,31,0,u.loader),l(n,37,0,null!==u.resendTime),l(n,39,0,u.errorMessage)}),(function(l,n){var u=n.component;l(n,10,0,e.Ab(n,14).ngClassUntouched,e.Ab(n,14).ngClassTouched,e.Ab(n,14).ngClassPristine,e.Ab(n,14).ngClassDirty,e.Ab(n,14).ngClassValid,e.Ab(n,14).ngClassInvalid,e.Ab(n,14).ngClassPending),l(n,18,0,e.Ab(n,26).ngClassUntouched,e.Ab(n,26).ngClassTouched,e.Ab(n,26).ngClassPristine,e.Ab(n,26).ngClassDirty,e.Ab(n,26).ngClassValid,e.Ab(n,26).ngClassInvalid,e.Ab(n,26).ngClassPending),l(n,32,0,!u.otpSent),l(n,34,0,!u.isResend)}))}var h=e.lb("app-verify-account",i,(function(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"app-verify-account",[],null,null,null,y,d)),e.ob(1,114688,null,0,i,[a.a,b.a,c.l],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),I=u("bYOv"),S=u("aHM3"),A=u("qn1f"),C=u("C1gq");u.d(n,"VerifyAccountModuleNgFactory",(function(){return k}));var k=e.mb(s,[],(function(l){return e.xb([e.yb(512,e.j,e.X,[[8,[o.a,h]],[3,e.j],e.v]),e.yb(4608,r.m,r.l,[e.s,[2,r.y]]),e.yb(4608,t.r,t.r,[]),e.yb(4608,t.d,t.d,[]),e.yb(4608,I.f,I.f,[c.l]),e.yb(5120,I.c,(function(l,n,u,e){return[new I.d(l,n),new I.e(u,e)]}),[c.q,I.f,c.q,I.f]),e.yb(4608,I.b,I.b,[I.f,c.l]),e.yb(1073742336,r.b,r.b,[]),e.yb(1073742336,t.q,t.q,[]),e.yb(1073742336,t.i,t.i,[]),e.yb(1073742336,t.o,t.o,[]),e.yb(1073742336,S.a,S.a,[]),e.yb(1073742336,A.a,A.a,[]),e.yb(1073742336,I.a,I.a,[]),e.yb(1073742336,C.a,C.a,[]),e.yb(1073742336,c.o,c.o,[[2,c.t],[2,c.l]]),e.yb(1073742336,s,s,[]),e.yb(1024,c.j,(function(){return[[{path:"",component:i}]]}),[])])}))}}]);