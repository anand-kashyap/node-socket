(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{VhVc:function(l,n,u){"use strict";u.r(n);var o=u("8Y7J"),i=u("s7LF"),e=u("BOF4"),r=u.n(e),t=function(){function l(l,n,u){this.chatService=l,this.apiService=n,this.router=u,this.error=!1,this.errMsg="",this.loader=!1,this.errTimeout=4e3,this.loginForm=new i.g({email:new i.e("",[i.p.required,i.p.email]),password:new i.e("",[i.p.required])}),this.loginValidations={email:[{type:"required",message:"Email is required"},{type:"email",message:"Invalid Email"}],password:[{type:"required",message:"Password is required"}]}}return l.prototype.ngOnInit=function(){this.errMsg=this.chatService.getRouteErrorMsg(),this.errMsg&&(this.error=!0);var l=this.chatService.isLoggedIn();console.log(l)},l.prototype.getErrors=function(l){return this.chatService.getErrors(l,this.loginForm,this.loginValidations)},l.prototype.getInvalidCondition=function(l){return this.loginForm.get(l).invalid&&this.loginForm.get(l).dirty},l.prototype.login=function(){var l=this;this.loginForm.valid?(this.loader=!0,this.loginForm.disable(),this.apiService.login(this.loginForm.value).subscribe((function(n){l.loader=!1,l.loginForm.enable();var u=r()(n.token);u.active?(l.chatService.setUserInfo(u),l.chatService.setInLocal("token",n.token),console.log(u),l.router.navigateByUrl("/user")):l.errorMessage="Your account is not active. Please contact admin."}),(function(n){l.loader=!1,l.loginForm.enable(),l.errorMessage=l.chatService.showResponseError(n)}))):this.chatService.markFieldsAsDirty(this.loginForm)},l}(),s=function(){},a=u("pMnS"),b=u("MdoF"),c=u("CNMR"),d=u("SVse"),g=u("iInd"),p=u("bYOv"),m=u("ZSeD"),v=u("yTNM"),f=o.nb({encapsulation:0,styles:[[""]],data:{}});function h(l){return o.Kb(0,[(l()(),o.pb(0,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),o.Ib(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.getErrors("email"))}))}function y(l){return o.Kb(0,[(l()(),o.pb(0,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),o.Ib(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.getErrors("password"))}))}function k(l){return o.Kb(0,[(l()(),o.pb(0,0,null,null,2,"span",[["class","spinner-border spinner-border-sm"],["role","status"]],null,null,null,null,null)),(l()(),o.pb(1,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),o.Ib(-1,null,["Loading..."]))],null,null)}function A(l){return o.Kb(0,[(l()(),o.pb(0,0,null,null,1,"div",[["class","invalid-feedback mt-3 d-block"]],null,null,null,null,null)),(l()(),o.Ib(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.errorMessage)}))}function C(l){return o.Kb(0,[(l()(),o.pb(0,0,null,null,3,"alert",[["type","danger"]],null,null,null,b.c,b.b)),o.ob(1,114688,null,0,c.a,[c.b,o.h],{type:[0,"type"],dismissOnTimeout:[1,"dismissOnTimeout"],isOpen:[2,"isOpen"]},null),(l()(),o.pb(2,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),o.Ib(3,null,["",""])),(l()(),o.pb(4,0,null,null,59,"div",[["class","container-fluid view-area"]],null,null,null,null,null)),(l()(),o.pb(5,0,null,null,58,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),o.pb(6,0,null,null,57,"div",[["class","col-md-6 m-auto"]],null,null,null,null,null)),(l()(),o.pb(7,0,null,null,56,"div",[["class","card"]],null,null,null,null,null)),(l()(),o.pb(8,0,null,null,1,"div",[["class","card-header bg-primary text-light"]],null,null,null,null,null)),(l()(),o.Ib(-1,null,[" Login "])),(l()(),o.pb(10,0,null,null,53,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),o.pb(11,0,null,null,52,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var i=!0,e=l.component;return"submit"===n&&(i=!1!==o.Ab(l,13).onSubmit(u)&&i),"reset"===n&&(i=!1!==o.Ab(l,13).onReset()&&i),"ngSubmit"===n&&(i=!1!==e.login()&&i),i}),null,null)),o.ob(12,16384,null,0,i.t,[],null,null),o.ob(13,540672,null,0,i.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),o.Fb(2048,null,i.b,null,[i.h]),o.ob(15,16384,null,0,i.m,[[4,i.b]],null,null),(l()(),o.pb(16,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.pb(17,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),o.Ib(-1,null,["Email"])),(l()(),o.pb(19,0,null,null,8,"input",[["autocomplete","email"],["class","form-control"],["formControlName","email"],["placeholder","Your Login Email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var i=!0;return"input"===n&&(i=!1!==o.Ab(l,23)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==o.Ab(l,23).onTouched()&&i),"compositionstart"===n&&(i=!1!==o.Ab(l,23)._compositionStart()&&i),"compositionend"===n&&(i=!1!==o.Ab(l,23)._compositionEnd(u.target.value)&&i),i}),null,null)),o.Fb(512,null,d.v,d.w,[o.q,o.r,o.k,o.B]),o.ob(21,278528,null,0,d.i,[d.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Db(22,{"is-invalid":0}),o.ob(23,16384,null,0,i.c,[o.B,o.k,[2,i.a]],null,null),o.Fb(1024,null,i.j,(function(l){return[l]}),[i.c]),o.ob(25,671744,null,0,i.f,[[3,i.b],[8,null],[8,null],[6,i.j],[2,i.s]],{name:[0,"name"]},null),o.Fb(2048,null,i.k,null,[i.f]),o.ob(27,16384,null,0,i.l,[[4,i.k]],null,null),(l()(),o.eb(16777216,null,null,1,null,h)),o.ob(29,16384,null,0,d.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(30,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.pb(31,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),o.Ib(-1,null,["Password"])),(l()(),o.pb(33,0,null,null,8,"input",[["autocomplete","password"],["class","form-control"],["formControlName","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var i=!0;return"input"===n&&(i=!1!==o.Ab(l,37)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==o.Ab(l,37).onTouched()&&i),"compositionstart"===n&&(i=!1!==o.Ab(l,37)._compositionStart()&&i),"compositionend"===n&&(i=!1!==o.Ab(l,37)._compositionEnd(u.target.value)&&i),i}),null,null)),o.Fb(512,null,d.v,d.w,[o.q,o.r,o.k,o.B]),o.ob(35,278528,null,0,d.i,[d.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Db(36,{"is-invalid":0}),o.ob(37,16384,null,0,i.c,[o.B,o.k,[2,i.a]],null,null),o.Fb(1024,null,i.j,(function(l){return[l]}),[i.c]),o.ob(39,671744,null,0,i.f,[[3,i.b],[8,null],[8,null],[6,i.j],[2,i.s]],{name:[0,"name"]},null),o.Fb(2048,null,i.k,null,[i.f]),o.ob(41,16384,null,0,i.l,[[4,i.k]],null,null),(l()(),o.eb(16777216,null,null,1,null,y)),o.ob(43,16384,null,0,d.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(44,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),o.pb(45,0,null,null,10,"div",[["aria-label","Login Register"],["class","btn-group"],["role","login"]],null,null,null,null,null)),(l()(),o.pb(46,0,null,null,3,"button",[["class","btn btn-primary d-inline-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),o.eb(16777216,null,null,1,null,k)),o.ob(48,16384,null,0,d.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.Ib(-1,null,[" Login"])),(l()(),o.pb(50,0,null,null,5,"button",[["class","btn btn-outline-primary d-inline-block ml-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==o.Ab(l,51).onClick()&&i),i}),null,null)),o.ob(51,16384,null,0,g.m,[g.l,g.a,[8,null],o.B,o.k],{routerLink:[0,"routerLink"]},null),o.Bb(52,1),o.ob(53,671744,null,0,p.g,[p.c,o.k,[2,g.m],[2,g.n]],{routerLink:[0,"routerLink"]},null),o.Bb(54,1),(l()(),o.Ib(-1,null,["Sign Up"])),(l()(),o.pb(56,0,null,null,5,"a",[["class","float-right"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==o.Ab(l,57).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i}),null,null)),o.ob(57,671744,null,0,g.n,[g.l,g.a,d.h],{routerLink:[0,"routerLink"]},null),o.Bb(58,1),o.ob(59,671744,null,0,p.g,[p.c,o.k,[2,g.m],[2,g.n]],{routerLink:[0,"routerLink"]},null),o.Bb(60,1),(l()(),o.Ib(-1,null,["Forgot Password?"])),(l()(),o.eb(16777216,null,null,1,null,A)),o.ob(63,16384,null,0,d.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,1,0,"danger",u.errTimeout,u.error),l(n,13,0,u.loginForm);var o=l(n,22,0,u.getInvalidCondition("email"));l(n,21,0,"form-control",o),l(n,25,0,"email"),l(n,29,0,u.getInvalidCondition("email"));var i=l(n,36,0,u.getInvalidCondition("password"));l(n,35,0,"form-control",i),l(n,39,0,"password"),l(n,43,0,u.getInvalidCondition("password")),l(n,48,0,u.loader);var e=l(n,52,0,"/register");l(n,51,0,e);var r=l(n,54,0,"/register");l(n,53,0,r);var t=l(n,58,0,"/forgot-password");l(n,57,0,t);var s=l(n,60,0,"/forgot-password");l(n,59,0,s),l(n,63,0,u.errorMessage)}),(function(l,n){var u=n.component;l(n,3,0,u.errMsg),l(n,11,0,o.Ab(n,15).ngClassUntouched,o.Ab(n,15).ngClassTouched,o.Ab(n,15).ngClassPristine,o.Ab(n,15).ngClassDirty,o.Ab(n,15).ngClassValid,o.Ab(n,15).ngClassInvalid,o.Ab(n,15).ngClassPending),l(n,19,0,o.Ab(n,27).ngClassUntouched,o.Ab(n,27).ngClassTouched,o.Ab(n,27).ngClassPristine,o.Ab(n,27).ngClassDirty,o.Ab(n,27).ngClassValid,o.Ab(n,27).ngClassInvalid,o.Ab(n,27).ngClassPending),l(n,33,0,o.Ab(n,41).ngClassUntouched,o.Ab(n,41).ngClassTouched,o.Ab(n,41).ngClassPristine,o.Ab(n,41).ngClassDirty,o.Ab(n,41).ngClassValid,o.Ab(n,41).ngClassInvalid,o.Ab(n,41).ngClassPending),l(n,46,0,u.loader),l(n,50,0,u.loader),l(n,56,0,o.Ab(n,57).target,o.Ab(n,57).href)}))}var I=o.lb("app-login",t,(function(l){return o.Kb(0,[(l()(),o.pb(0,0,null,null,1,"app-login",[],null,null,null,C,f)),o.ob(1,114688,null,0,t,[m.a,v.a,g.l],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),w=u("aHM3"),F=u("qn1f"),S=u("C1gq");u.d(n,"LoginModuleNgFactory",(function(){return M}));var M=o.mb(s,[],(function(l){return o.xb([o.yb(512,o.j,o.X,[[8,[a.a,b.a,I]],[3,o.j],o.v]),o.yb(4608,d.m,d.l,[o.s,[2,d.y]]),o.yb(4608,i.r,i.r,[]),o.yb(4608,i.d,i.d,[]),o.yb(4608,p.f,p.f,[g.l]),o.yb(5120,p.c,(function(l,n,u,o){return[new p.d(l,n),new p.e(u,o)]}),[g.q,p.f,g.q,p.f]),o.yb(4608,p.b,p.b,[p.f,g.l]),o.yb(4608,c.b,c.b,[]),o.yb(1073742336,d.b,d.b,[]),o.yb(1073742336,i.q,i.q,[]),o.yb(1073742336,i.i,i.i,[]),o.yb(1073742336,i.o,i.o,[]),o.yb(1073742336,w.a,w.a,[]),o.yb(1073742336,F.a,F.a,[]),o.yb(1073742336,p.a,p.a,[]),o.yb(1073742336,S.a,S.a,[]),o.yb(1073742336,g.o,g.o,[[2,g.t],[2,g.l]]),o.yb(1073742336,c.c,c.c,[]),o.yb(1073742336,s,s,[]),o.yb(1024,g.j,(function(){return[[{path:"",pathMatch:"full",component:t}]]}),[])])}))}}]);